<app-header></app-header>
<app-alert></app-alert>
<main>
    <div class="container w-auto">
        <!-- Label -->
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a routerLink="/medical-history/patients">List of Patients</a></li>
                <li class="breadcrumb-item active" aria-current="page">Health</li>
            </ol>
        </nav>
        <div class="grid">
            <div class="col-11 text-xl">
                Health Check up ({{
                    medicalModel?.medicalModel?.updatedAt
                        ? (medicalModel?.medicalModel?.updatedAt | date : 'MMMM dd, yyyy')
                        : (medicalModel?.medicalModel?.createdAt | date : 'MMMM dd, yyyy')
                }}) -
                {{
                    profileModel?.name?.lastName +
                        ' ' +
                        profileModel?.name?.middleName +
                        ', ' +
                        profileModel?.name?.firstName
                }}
            </div>
            <div class="col-1">
                <button
                    type="button"
                    class="btn btn-outline-danger btn-sm ms-3"
                    data-bs-toggle="modal"
                    data-bs-target="#deleteModalToggle"
                >
                    Delete
                </button>
            </div>
        </div>
        <!-- <div class="grid">
            <div class="col-2 font-italic">Previous Physician:</div>
            <div class="col-6"><hr /></div>
            <div class="col">
                <button
                    type="button"
                    class="btn btn-outline-primary btn-sm ms-3"
                    data-bs-toggle="collapse"
                    href="#collapseMinor"
                >
                    Collapse
                </button>
            </div>
        </div>
        <div class="grid collapse hide" id="collapseMinor">
            <div class="col-11 col-offset-1">
                <div class="grid">
                    <div class="col"></div>
                </div>
            </div>
        </div> -->
        <div class="grid">
            <div class="col-1">1.</div>
            <div class="col-5">Are you in good health?</div>
            <div class="col-5">{{ medicalModel?.questions?.goodHealth }}</div>
        </div>
        <div class="grid">
            <div class="col-1">2.</div>
            <div class="col-5">Are you under medical treatment now?</div>
            <div class="col-5">{{ medicalModel?.questions?.medicalTreatment }}</div>
        </div>
        <div class="grid">
            <div class="col-2"></div>
            <div class="col-4">If so, what is the condition being treated?</div>
            <div class="col-5">{{ medicalModel?.questions?.conditionTreated }}</div>
        </div>
        <div class="grid">
            <div class="col-1">3.</div>
            <div class="col-5">Have you ever had serious illness or surgical operation?</div>
            <div class="col-5">{{ medicalModel?.questions?.surgicalOperation }}</div>
        </div>
        <div class="grid">
            <div class="col-2"></div>
            <div class="col-4">If so, what illness or operation?</div>
            <div class="col-5">{{ medicalModel?.questions?.whatOperation }}</div>
        </div>
        <div class="grid">
            <div class="col-1">4.</div>
            <div class="col-5">Have you ever been hospitalized?</div>
            <div class="col-5">{{ medicalModel?.questions?.hospitalized }}</div>
        </div>
        <div class="grid">
            <div class="col-2"></div>
            <div class="col-4">If so, when and why?</div>
            <div class="col-5">{{ medicalModel?.questions?.whenWhyHospitalized }}</div>
        </div>
        <div class="grid">
            <div class="col-1">5.</div>
            <div class="col-5">Are you taking any prescription / non-prescription medication?</div>
            <div class="col-5">{{ medicalModel?.questions?.prescriptionMedication }}</div>
        </div>
        <div class="grid">
            <div class="col-2"></div>
            <div class="col-4">If so, please specify?</div>
            <div class="col-5">{{ medicalModel?.questions?.specificPrescriptionMedication }}</div>
        </div>
        <div class="grid">
            <div class="col-1">6.</div>
            <div class="col-5">Do you use tobacco products?</div>
            <div class="col-5">{{ medicalModel?.questions?.tobacco }}</div>
        </div>
        <div class="grid">
            <div class="col-1">7.</div>
            <div class="col-5">Do you use alcohol, cocaine or other dangerous drugs?</div>
            <div class="col-5">{{ medicalModel?.questions?.alcoholCocaineOtherDrugs }}</div>
        </div>
        <div class="grid">
            <div class="col-1">8.</div>
            <div class="col-5">Are you allergic to any of the following: (Answers)</div>
            <div class="col-6">
                <div *ngIf="medicalModel?.questions?.allergies">
                    <div *ngFor="let allergy of medicalModel?.questions?.allergies; let i = index">
                        <li *ngIf="allergy.checked">{{ allergy.name }}</li>
                    </div>
                </div>
                <li *ngIf="medicalModel?.questions?.otherAllergies">
                    {{ medicalModel?.questions?.otherAllergies }}
                </li>
            </div>
        </div>
        <div class="grid">
            <div class="col-1">9.</div>
            <div class="col-5">Bleeding Time</div>
            <div class="col-5">{{ medicalModel?.questions?.bleedingTime }}</div>
        </div>
        <div class="grid">
            <div class="col-1">10.</div>
            <div class="col-2">For woman only:</div>
            <div class="col-3">Are you pregnant?</div>
            <div class="col-5">{{ medicalModel?.questions?.womanOnlyPregnant }}</div>
        </div>
        <div class="grid">
            <div class="col-3"></div>
            <div class="col-3">Are you nursing?</div>
            <div class="col-5">{{ medicalModel?.questions?.womanOnlyNursing }}</div>
        </div>
        <div class="grid">
            <div class="col-3"></div>
            <div class="col-3">Are you taking birth control pills?</div>
            <div class="col-5">{{ medicalModel?.questions?.womanOnlyBirthControlPills }}</div>
        </div>
        <div class="grid">
            <div class="col-1">11.</div>
            <div class="col-5">Blood Type</div>
            <div class="col-5">{{ medicalModel?.questions?.bloodType }}</div>
        </div>
        <div class="grid">
            <div class="col-1">12.</div>
            <div class="col-5">
                Blood Pressure ({{
                    medicalModel?.medicalModel?.updatedAt
                        ? (medicalModel?.medicalModel?.updatedAt | date : 'MM/dd/yyyy')
                        : (medicalModel?.medicalModel?.createdAt | date : 'MM/dd/yyyy')
                }})
            </div>
            <div class="col-5">{{ medicalModel?.questions?.bloodPressure }}</div>
        </div>
        <div class="grid">
            <div class="col-1">13.</div>
            <div class="col">Do you have or have you had any of the following? Check which apply</div>
        </div>
        <div class="grid">
            <div class="col-1"></div>
            <div class="col">
                <div *ngIf="medicalModel?.questions?.haveYouHadAnyOfTheFollowing">
                    (Answers)
                    <div
                        *ngFor="
                            let haveFollowing of medicalModel?.questions?.haveYouHadAnyOfTheFollowing;
                            let i = index
                        "
                    >
                        <li *ngIf="haveFollowing.checked">
                            {{ haveFollowing.name }}
                        </li>
                    </div>
                </div>
                <li *ngIf="medicalModel?.questions?.otherHaveYouHadAnyOfTheFollowing">
                    {{ medicalModel?.questions?.otherHaveYouHadAnyOfTheFollowing }}
                </li>
            </div>
        </div>
        <div class="grid">
            <div class="col"><hr /></div>
        </div>
        <div class="grid">
            <div class="col-2"><span class="text-lg">Informed Consent</span></div>
            <div class="col-1">
                <button
                    type="button"
                    class="btn btn-outline-primary btn-sm -mt-1"
                    (click)="onViewInformedConsents(profileModel?.id)"
                >
                    History
                </button>
            </div>
            <div class="col" *ngIf="imageDetailsIC.length > 0">
                <div class="row ml-3">
                    <div class="col col-sm-1" *ngFor="let images of imageDetailsIC; let i = index">
                        <img
                            src="{{ images.imgLink }}"
                            class="img-thumbnail -mt-3 h-4rem w-4rem"
                            alt="{{ images.hashName }}"
                            (click)="updateViewItem(images.hashNameType, images.originalName, images.imgLink)"
                            data-bs-toggle="modal"
                            data-bs-target="#displayImageModalToggle"
                        />
                    </div>
                </div>
            </div>
            <div class="col" *ngIf="imageDetailsIC.length == 0">
                <div class="row ml-3 ">
                    <div class="col col-sm-1 ">
                        <img src="{{ picture }}" class="img-thumbnail -mt-3 h-4rem w-4rem" alt="..." />
                    </div>
                </div>
            </div>
        </div>
        <div class="grid">
            <div class="col"><hr /></div>
        </div>
        <div class="grid">
            <div class="col-2 text-lg">Medical Clearance</div>
            <div class="col-1">
                <button
                    type="button"
                    class="btn btn-outline-primary btn-sm -mt-1"
                    (click)="onViewMedicalClearances(profileModel?.id)"
                >
                    History
                </button>
            </div>
            <div class="col" *ngIf="imageDetailsMC.length > 0">
                <div class="row ml-3">
                    <div class="col col-sm-1" *ngFor="let images of imageDetailsMC; let i = index">
                        <img
                            src="{{ images.imgLink }}"
                            class="img-thumbnail -mt-3 h-4rem w-4rem"
                            alt="{{ images.hashName }}"
                            (click)="updateViewItem(images.hashNameType, images.originalName, images.imgLink)"
                            data-bs-toggle="modal"
                            data-bs-target="#displayImageModalToggle"
                        />
                    </div>
                </div>
            </div>
            <div class="col" *ngIf="imageDetailsMC.length == 0">
                <div class="row ml-3 ">
                    <div class="col col-sm-1 ">
                        <img src="{{ picture }}" class="img-thumbnail -mt-3 h-4rem w-4rem" alt="..." />
                    </div>
                </div>
            </div>
        </div>
        <div class="grid">
            <div class="col"><hr /></div>
        </div>
        <div class="grid">
            <div class="col-2 text-lg">Physicians</div>
            <div class="col-1">
                <button
                    type="button"
                    class="btn btn-outline-primary btn-sm -mt-1"
                    (click)="onViewPhysicians(profileModel?.id)"
                >
                    View
                </button>
            </div>
        </div>
        <div class="grid">
            <div class="col"><hr /></div>
        </div>
        <div class="grid justify-content-center mb-8">
            <div class="col-3">
                <label for="saveallnowid">Do you want to edit? &nbsp; &nbsp;</label>
                <button
                    type="button"
                    id="saveallnowid"
                    class="btn btn-outline-primary btn-sm -mt-1"
                    (click)="onUpdateHealthCheck(profileModel?.id)"
                >
                    Update
                </button>
            </div>
        </div>
        <div class="grid mb-8">&nbsp;</div>
        <!-- Delete Modal -->
        <div
            class="modal"
            id="deleteModalToggle"
            tabindex="-1"
            aria-labelledby="deleteModalToggleLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <p class="modal-title lbltext" id="deleteModalToggleLabel">Are you sure?</p>
                        <button
                            type="button"
                            class="btn-close btn-sm"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                        ></button>
                    </div>
                    <div class="modal-body">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-md-1">Note:</div>
                                <div class="col-md-10 text-center">
                                    This action will <span class="fw-bold">remove</span> all medical data pertaining to
                                    <br />
                                    <span class="fst-italic text-decoration-underline"
                                        >{{
                                            profileModel?.name?.lastName +
                                                ' ' +
                                                profileModel?.name?.middleName +
                                                ', ' +
                                                profileModel?.name?.firstName
                                        }}.</span
                                    >
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button
                                type="button"
                                class="btn btn-outline-danger btn-sm me-3"
                                (click)="deleteMedicalModel(medicalModel?.medicalModel?.id)"
                                data-bs-dismiss="modal"
                            >
                                Delete
                            </button>
                            <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">
                                Close
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div
            class="modal fade"
            id="displayImageModalToggle"
            tabindex="-1"
            aria-labelledby="displayImageModalToggleLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <p class="modal-title lbltext" id="displayImageModalToggleLabel">{{ imgNameOriginal }}</p>
                        <button
                            type="button"
                            class="btn-close btn-sm"
                            data-bs-dismiss="modal"
                            aria-label="Close"
                        ></button>
                    </div>
                    <div class="modal-body">
                        <div class="container-fluid">
                            <div class="row">
                                <img src="{{ imgLink }}" height="auto" width="auto" alt="{{ hashName }}" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<app-footer></app-footer>
